<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:site_name" content="Meisinger Two"><meta property="og:type" content="article"><meta property="og:image" content="https://meisinger.github.io//assets/images/header-code.jpg"><meta property="twitter:image" content="https://meisinger.github.io//assets/images/header-code.jpg"><meta name=title content="Rhino Mocks Unit Tests (let the healing begin)"><meta property="og:title" content="Rhino Mocks Unit Tests (let the healing begin)"><meta property="twitter:title" content="Rhino Mocks Unit Tests (let the healing begin)"><meta name=description content="A friendly blog covering my journey through software development over the past twenty years"><meta property="og:description" content="A friendly blog covering my journey through software development over the past twenty years"><meta property="twitter:description" content="A friendly blog covering my journey through software development over the past twenty years"><meta property="og:url" content="https://meisinger.github.io/post/2013-06-27-rhino-mocks-unit-tests-let-the-healing-begin/"><meta property="twitter:card" content="summary"><meta name=keyword content><link rel="shortcut icon" href=/img/favicon.ico><title>Rhino Mocks Unit Tests (let the healing begin) - Meisinger Two</title><link rel=canonical href=/post/2013-06-27-rhino-mocks-unit-tests-let-the-healing-begin/><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css integrity=sha512-... crossorigin=anonymous referrerpolicy=no-referrer><link rel=stylesheet href=/scss/main.css></head><body><nav><div><div class=title-container><button type=button>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span>
</button>
<a class=site-title href=/>Meisinger Two
<span class=site-slogan>Soul Proprietor</span></a></div><div class=menu-items-container><ul class=menu-items><li><a href=/>Home</a></li><li><a href=/categories>Categories</a></li><li><a href=/tags>Tags</a></li><li><a href=/about>About</a></li></ul></div></div><script>var $toggle=document.querySelector(".navbar-toggle");$toggle.addEventListener("click",toggle_navbar);function toggle_navbar(){var t=document.querySelector("#huxblog_navbar"),n=document.querySelector(".navbar-collapse");t.className.indexOf("in")>0?(t.className=" ",setTimeout(function(){t.className.indexOf("in")<0&&(n.style.height="0px")},400)):(n.style.height="auto",t.className+=" in")}</script></nav><article><section class=header><h2 data-label=title>Rhino Mocks Unit Tests (let the healing begin)</h2><h6 data-label=reading-time><i class="fa fa-clock"></i>
2 minute read</h6></section><section class=content><p>Over the past few days I have been focusing on “removing” the Record/Replay functionality from Rhino Mocks.
I am a little surprised of how easy it was. The first step was to change all of the public methods in the <strong>MockRepository</strong> class to internal.
The second step (and last step) was to add some methods to generate repositories.
Granted, this doesn’t actually remove the Record/Replay functionality but it does “hide” it. <em>Clearly taking baby steps.</em></p><p>Attempting to build everything and run the unit tests… not so much. <em>Definitely got the “red” part down.</em></p><p>So I did the only thing that seemed reasonable, exclude every single class from the unit test project.
I would have loved to have stopped right there and called it a day but (as with all good unit testers); no “green,” no “go.”</p><p>Now I am in the middle of changing every test, one-by-one. It is amazing how many of the tests utilize the Record/Replay style.
It actually feels like every single test.</p><p>So far, the stats are as follows:</p><ul><li>Original Passing Tests: 806, Original Skipped Tests: 2</li><li>Current Passing Tests: 461, Current Skipped Tests: 6</li></ul><p>As I modify these tests (attempting to maintain the original intent), I have been noticing some of the constructs simply don’t make sense any more.
Things like the <code>BackToRecord</code> and <code>Replay</code> methods as well as the <strong>Expect</strong>, <strong>LastCall</strong>, <strong>SetupResult</strong> and <strong>With</strong> utility classes.
And don’t get me started on <strong>OrderedMethodRecorder</strong> and <strong>UnorderedMethodRecorder</strong>.</p><p>I am confident that these constructs will find their place in history soon enough.
But first… the unit tests must be cured. Then the real slicing can begin.</p></section><section class=footer><div class=tags><label>Tags:</label><div data-type=taxonomy><a href=/tags/rhino-mocks title="Rhino Mocks">Rhino Mocks</a></div></div><div class=categories><label>Categories:</label><div data-type=taxonomy><a href=/categories/development title=Development>Development</a></div></div><h6 data-label=meta>Posted on Thursday, June 27, 2013</h6></section><section class=navigation><a href=/post/2013-06-07-unwinding-rhino-mocks/>Previous
</a><a href=/post/2013-07-03-if-you-give-a-rhino-a-cookie/>Next</a></section></article><footer><ul><li><a href=mailto:mike.meisinger@gmail.com><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=https://github.com/meisinger><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=https://www.linkedin.com/in/yourlinkedinid><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li></ul><div data-label=copyright>Copyright &copy; 2025 Mike Meisinger</div></footer></body></html>